angular.module("SIEApp",["ngRoute"]).controller("showStudentsController",function(e,t){e.table={},e.selectedRow=null,t({method:"GET",url:"students/list"}).success(function(t){e.students=t,console.log(e.students),$(document).ready(function(){e.table=$("#table_id").DataTable({data:e.students,dom:"ZlfrtipB",buttons:[{extend:"copy",text:"Copiar"},"csv","excel"],colResize:{tableWidthFixed:!1},colReorder:!0,columns:[{data:"person.document_id"},{data:"person.name"},{data:"person.last_name"},{data:"grade_to_be_register"},{data:"brothers",defaultContent:""},{data:"brothers",defaultContent:""},{data:"legal_representative.person.name"},{data:"legal_representative.person.last_name"},{data:"legal_representative.person.document_id"},{data:"parent.person.name",defaultContent:""},{data:"parent.person.last_name",defaultContent:""},{data:"parent.person.name",defaultContent:""},{data:"parent.person.last_name",defaultContent:""},{data:"teacher.person.name",defaultContent:""},{data:"teacher.person.last_name",defaultContent:""}],columnDefs:[{targets:0},{targets:1,render:function(e,t,a){if(null!=a.person)return e+" "+a.person.last_name}},{targets:2,visible:!1},{targets:3,className:"text-center"},{targets:4,render:function(e,t,a){if(e.length>0)for(var n="",s=0;s<e.length;s++)null!=e[s].person&&(n+=e[s].person.name+" "+e[s].person.last_name+"<br>");return e=n}},{targets:5,visible:!1},{targets:6,render:function(e,t,a){return e+" "+a.legal_representative.person.last_name}},{targets:7,visible:!1},{targets:8},{targets:9,render:function(e,t,a){if(null!=a.parent)return e+" "+a.parent.person.last_name}},{targets:10,visible:!1},{targets:11},{targets:12,visible:!1},{targets:13},{targets:14,visible:!1}],language:{sProcessing:"Procesando...",sLengthMenu:"Mostrar _MENU_ registros",sZeroRecords:"No se encontraron resultados",sEmptyTable:"Ningún dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sSearch:"Buscar:",sUrl:"",sInfoThousands:".",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"Último",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},paging:!0,scrollY:!0,scrollX:!0,scrollCollapse:!0,select:{style:"single"}}),e.table.on("select",function(t,a,n,s){e.selectedRow=e.table.rows({selected:!0}).data().toArray(),console.log(e.selectedRow)})})}).error(function(){console.log("Error obteniendo los estudiantes")})});